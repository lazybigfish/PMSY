# 任务进度拖拽条功能需求文档

## 需求时间
2026-02-12

## 需求描述
任务中心的详情页面，更新进度框内，进度调整位置调整为进度条拖拽形式，可以随意拖到某个进度。

## 当前实现
- 文件：`src/pages/tasks/components/TaskProgressUpdateModal.tsx`
- 当前使用下拉选择框（select）选择进度，选项固定为：0%、25%、50%、75%、100%

## 需求变更

### 1. 进度选择方式变更
**当前方式**：下拉选择框，只能选择固定的几个进度值（0%、25%、50%、75%、100%）

**目标方式**：可拖拽进度条，支持 0-100 任意整数进度值

### 2. 交互设计
- 显示一个水平进度条
- 用户可以拖拽进度条上的滑块来调整进度
- 实时显示当前选中的进度百分比
- 进度条要有视觉反馈（填充色随进度变化）
- 支持点击进度条任意位置快速跳转

### 3. 视觉效果
- 进度条背景色：浅灰色
- 进度填充色：渐变色（从 primary-400 到 primary-500）
- 滑块：圆形，带阴影，悬停时放大效果
- 当前进度数值显示在进度条右侧

## 技术实现方案

### 组件修改
修改 `TaskProgressUpdateModal.tsx` 中的进度选择区域：

1. 移除原有的 `PROGRESS_OPTIONS` 数组和下拉选择框
2. 添加自定义拖拽进度条组件
3. 使用 React state 管理拖拽状态
4. 监听鼠标/触摸事件实现拖拽逻辑
5. 计算进度值并实时更新

### 核心交互逻辑
```typescript
// 1. 监听进度条点击和拖拽
// 2. 计算鼠标位置对应的进度百分比
// 3. 限制范围在 0-100
// 4. 实时更新进度显示
```

## 验收标准
- [x] 进度条可以拖拽到任意 0-100 的整数值
- [x] 拖拽过程中实时显示当前进度
- [x] 点击进度条任意位置可以快速定位
- [x] 视觉效果符合设计规范
- [x] 提交后进度值正确保存

## 相关文件
- `src/pages/tasks/components/TaskProgressUpdateModal.tsx` - 主要修改文件
