# 新建任务页面化需求文档

## 需求时间
2026-02-12

## 需求描述
任务中心新建任务的页面不想弹窗形式呈现，以新的二级页面形式来展示，这样操作的页面过渡和整个新建任务页面中的字段拜访也会比较合理，可以不用往下滑就能选中全部要素。

## 需求分析

### 当前问题
1. 弹窗形式空间有限，字段多时需要滚动才能看到全部
2. 弹窗遮挡背景，用户体验不够流畅
3. 字段布局紧凑，操作不够舒适

### 目标方案
1. **页面形式**：改为独立二级页面 `/tasks/create`
2. **更大空间**：充分利用屏幕空间，字段分布更合理
3. **无需滚动**：所有字段一目了然，无需下滑
4. **页面过渡**：路由跳转，体验更自然

## 技术实现方案

### 1. 创建新页面组件
文件路径：`src/pages/tasks/TaskCreatePage.tsx`

### 2. 路由配置
添加路由：`/tasks/create`

### 3. 布局设计
采用分栏布局，将字段合理分布：

```
┌─────────────────────────────────────────────────────────────┐
│  创建新任务                                        [取消]  │
├─────────────────────────────────────────────────────────────┤
│  ┌────────────────────────┐  ┌────────────────────────────┐ │
│  │ 基本信息               │  │ 人员配置                   │ │
│  │  - 任务标题            │  │  - 责任人                  │ │
│  │  - 任务描述            │  │  - 处理人                  │ │
│  │  - 优先级              │  │                            │ │
│  └────────────────────────┘  └────────────────────────────┘ │
│  ┌────────────────────────┐  ┌────────────────────────────┐ │
│  │ 项目信息               │  │ 其他设置                   │ │
│  │  - 所属项目            │  │  - 截止日期                │ │
│  │  - 功能模块            │  │  - 公开任务                │ │
│  └────────────────────────┘  └────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│                                    [取消]  [创建任务]       │
└─────────────────────────────────────────────────────────────┘
```

### 4. 字段分组

#### 左列 - 基本信息
- 任务标题（必填）
- 任务描述
- 优先级（单选按钮组）

#### 右列 - 人员配置
- 责任人（单选）
- 处理人（多选）

#### 左列 - 项目信息
- 所属项目（下拉选择）
- 功能模块（根据项目动态加载）

#### 右列 - 其他设置
- 截止日期（日期选择器）
- 公开任务（开关）

## 相关文件

### 需要修改的文件
1. `src/App.tsx` 或路由配置文件 - 添加新路由
2. `src/pages/tasks/TaskList.tsx` - 修改新建任务按钮跳转逻辑

### 需要创建的文件
1. `src/pages/tasks/TaskCreatePage.tsx` - 新建任务页面组件

### 参考文件
1. `src/pages/tasks/components/TaskCreateModal.tsx` - 原有弹窗组件（参考字段和逻辑）

## 验收标准
- [ ] 新建任务改为独立页面 `/tasks/create`
- [ ] 点击"新建任务"按钮跳转到新页面
- [ ] 页面布局采用分栏形式，字段分布合理
- [ ] 所有字段在一屏内可见，无需滚动
- [ ] 保留原有表单验证逻辑
- [ ] 创建成功后跳转到任务详情页
- [ ] 取消操作返回任务列表
