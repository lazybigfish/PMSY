# 移除 Supabase 依赖 - 任务 1.4 补充记录

## 补充内容

### 发现的问题
用户审查后发现里程碑模板的初始化数据不完整，只插入了7个阶段的模板名称，但**没有插入每个阶段对应的任务数据**。

### 补充的数据

根据原 Supabase migration 文件，补充了以下里程碑任务数据：

#### 进场前阶段（5个任务）
1. 获取基础材料 - 收集项目可研文件、项目合同
2. 明确干系人 - 梳理甲方负责人及联系人
3. 组建项目团队 - 根据建设方向明确团队成员
4. 风险与预算分析 - 输出项目风险清单和预算规划表
5. 召开内部启动会 - 整合前期材料，形成会议纪要

#### 启动阶段（6个任务）
1. 编制基础文档 - 项目经理授权函、开工报审表
2. 拆解建设内容 - 项目实施功能清单、项目实施方案
3. 制定进度计划 - 项目实施计划表
4. 召开项目启动会 - 开工令、项目启动会会议纪要
5. 筹备服务器资源 - 服务器资源清单
6. 供应商/硬件下单 - 采购合同（可选）

#### 实施阶段（5个任务）
1. 需求调研 - 需求规格、数据库设计、概要/详细设计说明书
2. 系统部署 - 系统部署文档、服务器资源清单（更新）
3. 第三方测评 - 软件测试报告、三级等保测评报告、商用密码测评报告
4. 培训与自查 - 用户培训记录、功能点验表
5. 监理核查 - 监理核查报告

#### 初验阶段（4个任务）
1. 整理验收文档 - 文档目录
2. 筹备并召开初验会 - 初验申请、初步验收报告
3. 整改专家意见 - 遗留问题整改报告
4. 上线试运行 - 试运行申请

#### 试运行阶段（2个任务）
1. 试运行保障 - 试运行记录
2. 项目结算与决算 - 结算报告、决算报告

#### 终验阶段（3个任务）
1. 试运行总结 - 试运行总结报告
2. 终验筹备与召开 - 终验申请、终验报告
3. 终验整改 - 遗留问题整改报告（更新）

#### 运维阶段（1个任务）
1. 项目移交 - 移交清单、项目过程材料归档

**总计：26个里程碑任务**

### 数据结构
每个任务包含：
- `milestone_id`: 关联到对应的里程碑模板
- `name`: 任务名称
- `description`: 任务描述
- `is_required`: 是否必填
- `output_documents`: 输出文档清单（JSONB格式）

### 文件修改
更新了 `003_create_milestones.sql`，在插入7个里程碑模板后，插入了对应的26个任务数据。

### 经验教训
1. 初始化数据要完整，不能只考虑表结构
2. 需要仔细对照原 migrations 的所有 INSERT 语句
3. 里程碑任务数据是业务核心数据，必须完整迁移
