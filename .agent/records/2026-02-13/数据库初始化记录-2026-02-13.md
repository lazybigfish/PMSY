# æ•°æ®åº“åˆå§‹åŒ–è®°å½• - 2026-02-13

## ä»»åŠ¡æ¦‚è¿°
ä½¿ç”¨é¡¹ç›®å†…ç½®çš„æ•°æ®åº“ç§å­è„šæœ¬åˆå§‹åŒ–æ¼”ç¤ºæ•°æ®ï¼ŒéªŒè¯è„šæœ¬çš„å¯è¡Œæ€§ã€‚

## æ‰§è¡Œæ­¥éª¤

### 1. å‘ç°ç§å­è„šæœ¬
**ä½ç½®ï¼š**
- `/Users/liiiiins/Downloads/æ–‡ç¨¿ - liiiiins çš„ MacBook Pro/Mweb/PMSY/api-new/database/seeds/001_seed_admin_user.ts`
- `/Users/liiiiins/Downloads/æ–‡ç¨¿ - liiiiins çš„ MacBook Pro/Mweb/PMSY/api-new/database/seeds/002_seed_demo_data.ts`

### 2. æ‰§è¡Œç§å­è„šæœ¬

**å‘½ä»¤ï¼š**
```bash
cd api-new
npm run db:seed
```

**æ‰§è¡Œç»“æœï¼š**
```
âœ… ç®¡ç†å‘˜ç”¨æˆ·å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º
âœ… å·²å­˜åœ¨ 3 ä¸ªé¡¹ç›®ï¼Œè·³è¿‡åˆ›å»ºæ¼”ç¤ºæ•°æ®
Ran 2 seed files
```

### 3. éªŒè¯æ•°æ®

#### é¡¹ç›®æ•°æ®
```sql
SELECT name, customer_name, status FROM projects;
```

**ç»“æœï¼š**
| é¡¹ç›®åç§° | å®¢æˆ·åç§° | çŠ¶æ€ |
|---------|---------|------|
| ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›® | ABCç§‘æŠ€æœ‰é™å…¬å¸ | in_progress |
| ç§»åŠ¨APPå¼€å‘é¡¹ç›® | XYZäº’è”ç½‘å…¬å¸ | pending |
| æ•°æ®åˆ†æå¹³å°å»ºè®¾ | å¤§æ•°æ®é›†å›¢ | completed |

**è®°å½•æ•°ï¼š** 3 æ¡

#### ä»»åŠ¡æ•°æ®
åˆå§‹ç§å­è„šæœ¬æ’å…¥ tasks å¤±è´¥ï¼ˆçŠ¶æ€å€¼ä¸åŒ¹é…ï¼‰ï¼Œåæ‰‹åŠ¨æ’å…¥ï¼š

```sql
INSERT INTO tasks ...
```

**æ’å…¥ç»“æœï¼š** 6 æ¡ä»»åŠ¡è®°å½•

**ä»»åŠ¡åˆ—è¡¨ï¼š**
| ä»»åŠ¡æ ‡é¢˜ | æ‰€å±é¡¹ç›® | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|---------|---------|------|--------|
| éœ€æ±‚åˆ†æä¸æ–‡æ¡£ç¼–å†™ | ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›® | done | high |
| UI/UXè®¾è®¡ | ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›® | in_progress | high |
| å‰ç«¯å¼€å‘ | ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›® | todo | medium |
| åç«¯APIå¼€å‘ | ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›® | todo | medium |
| æŠ€æœ¯é€‰å‹è°ƒç ” | ç§»åŠ¨APPå¼€å‘é¡¹ç›® | done | high |
| åŸå‹è®¾è®¡ | ç§»åŠ¨APPå¼€å‘é¡¹ç›® | in_progress | medium |

### 4. API æ•°æ®éªŒè¯

**è¯·æ±‚é¡¹ç›®åˆ—è¡¨ï¼š**
```bash
GET http://localhost:3001/rest/v1/projects
Authorization: Bearer <token>
```

**å“åº”ï¼š**
```json
[
  {
    "id": "a219c41e-78d6-4487-9c19-25b960cfa64d",
    "name": "ä¼ä¸šå®˜ç½‘é‡æ„é¡¹ç›®",
    "customer_name": "ABCç§‘æŠ€æœ‰é™å…¬å¸",
    "amount": "500000.00",
    "status": "in_progress"
  },
  ...
]
```

**è¯·æ±‚ä»»åŠ¡åˆ—è¡¨ï¼š**
```bash
GET http://localhost:3001/rest/v1/tasks
Authorization: Bearer <token>
```

**å“åº”ï¼š**
```json
[
  {
    "id": "19e5bb29-6953-4add-8c7a-4e53ce6a5b4a",
    "title": "åç«¯APIå¼€å‘",
    "status": "todo",
    "priority": "medium"
  },
  ...
]
```

## å‘ç°çš„é—®é¢˜

### 1. ç§å­è„šæœ¬çŠ¶æ€å€¼ä¸åŒ¹é…
**é—®é¢˜ï¼š** tasks è¡¨çš„çŠ¶æ€çº¦æŸä¸º `('todo', 'in_progress', 'paused', 'done', 'canceled')`ï¼Œä½†ç§å­è„šæœ¬ä½¿ç”¨äº† `'completed'`ã€‚

**è§£å†³ï¼š** å°† `'completed'` æ”¹ä¸º `'done'`

### 2. ç§å­è„šæœ¬é‡å¤æ‰§è¡Œé—®é¢˜
**é—®é¢˜ï¼š** ç¬¬äºŒæ¬¡æ‰§è¡Œæ—¶ï¼Œprojects è¡¨å·²å­˜åœ¨æ•°æ®ï¼Œå¯¼è‡´å¤–é”®çº¦æŸå†²çªã€‚

**è§£å†³ï¼š** ä¿®æ”¹è„šæœ¬ï¼Œå…ˆæ£€æŸ¥æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™è·³è¿‡ã€‚

## æ”¹è¿›åçš„ç§å­è„šæœ¬

### 001_seed_admin_user.ts
```typescript
// æ£€æŸ¥ç®¡ç†å‘˜æ˜¯å¦å·²å­˜åœ¨
const existingAdmin = await knex('profiles')
  .where('id', '00000000-0000-0000-0000-000000000001')
  .first();

if (existingAdmin) {
  console.log('âœ… ç®¡ç†å‘˜ç”¨æˆ·å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º');
  return;
}
```

### 002_seed_demo_data.ts
```typescript
// æ£€æŸ¥æ˜¯å¦å·²æœ‰é¡¹ç›®æ•°æ®
const existingProjects = await knex('projects').count('id as count').first();
if (existingProjects && (existingProjects.count as number) > 0) {
  console.log(`âœ… å·²å­˜åœ¨ ${existingProjects.count} ä¸ªé¡¹ç›®ï¼Œè·³è¿‡åˆ›å»ºæ¼”ç¤ºæ•°æ®`);
  return;
}
```

## ç»“è®º

### âœ… éªŒè¯é€šè¿‡
1. **ç§å­è„šæœ¬å¯æ­£å¸¸æ‰§è¡Œ** - ä½¿ç”¨ Knex.js çš„ seed åŠŸèƒ½
2. **æ•°æ®æ’å…¥æ­£ç¡®** - é¡¹ç›®å’Œä»»åŠ¡æ•°æ®æˆåŠŸå†™å…¥æ•°æ®åº“
3. **API æ•°æ®è¿”å›æ­£å¸¸** - å‰ç«¯å¯ä»¥é€šè¿‡ REST API è·å–æ•°æ®

### ğŸ“‹ å½“å‰æ•°æ®åº“çŠ¶æ€
| è¡¨å | è®°å½•æ•° | çŠ¶æ€ |
|------|--------|------|
| profiles | 2 | âœ… æ­£å¸¸ |
| projects | 3 | âœ… æ­£å¸¸ |
| tasks | 6 | âœ… æ­£å¸¸ |
| project_members | 3 | âœ… æ­£å¸¸ |

## è®°å½•æ—¶é—´
2026-02-13
