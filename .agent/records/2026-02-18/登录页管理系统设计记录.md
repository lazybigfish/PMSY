# 登录页管理系统设计记录

## 日期
2026-02-18

## 需求背景
用户希望设计一个科技感十足的登录页面，同时保留现有登录页面，并在系统设置中增加登录页管理模块，方便后续管理和切换不同的登录页主题。

## 设计方案

### 1. 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                      登录页管理模块架构                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────┐  ┌─────────────────────────┐   │
│  │   数据库层               │  │      前端组件层          │   │
│  │  system_configs         │  │  Login.tsx (路由入口)    │   │
│  │  - login_page_theme     │──│       ↓                 │   │
│  │  - login_page_title     │  │  ┌─────────┐ ┌────────┐ │   │
│  │  - login_page_subtitle  │  │  │LoginV1  │ │LoginV2 │ │   │
│  │                         │  │  │(经典版) │ │(科技版)│ │   │
│  └─────────────────────────┘  │  └─────────┘ └────────┘ │   │
│                               └─────────────────────────┘   │
│                                        │                    │
│                           ┌────────────┘                    │
│                           ▼                                 │
│                  ┌─────────────────┐                        │
│                  │  系统设置模块     │                        │
│                  │  LoginThemeConfig │◄── 登录页管理Tab      │
│                  └─────────────────┘                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2. 文件结构

```
src/
├── pages/
│   ├── Login.tsx                    # 登录页路由入口（动态加载主题）
│   ├── LoginV1/                     # 经典版登录页（保留现有）
│   │   └── index.tsx
│   ├── LoginV2/                     # 科技版登录页（新增）
│   │   └── index.tsx
│   └── system/
│       └── tabs/
│           └── LoginThemeConfig.tsx # 登录页管理配置
```

### 3. 数据库配置

使用 `system_configs` 表存储配置：

| key | value | 说明 |
|-----|-------|------|
| login_page_theme | v1 / v2 | 当前登录页主题 |
| login_page_title | PMSY 项目管理系统 | 登录页标题 |
| login_page_subtitle | 提升团队协作效率... | 登录页副标题 |

### 4. 配色方案

#### 科技版（LoginV2）配色

**主色调**：天蓝色系
- `#0EA5E9` - 天蓝-500（主色）
- `#38BDF8` - 天蓝-400（高亮）
- `#22D3EE` - 青色-400（极光流动）

**活泼点缀色**：
- `#8B5CF6` - 紫罗兰（点缀对比）
- `#F472B6` - 粉色（活泼点缀）
- `#14B890` - 薄荷绿（成功状态）

#### 经典版（LoginV1）配色
- 保留原有珊瑚橙 `#FF6B4A` 主色调
- 薄荷绿、紫罗兰辅助色

### 5. 视觉效果

#### 科技版特色
1. **极光流动背景** - 多层径向渐变，15秒循环动画
2. **粒子网络** - Canvas绘制45个粒子，自动连线
3. **毛玻璃卡片** - backdrop-filter: blur(20px)
4. **浮动装饰元素** - 几何形状缓慢浮动旋转
5. **流光按钮** - 天蓝到青色渐变，hover光晕效果

#### 经典版特色
1. **多彩渐变背景** - 珊瑚橙到紫罗兰到薄荷绿
2. **网格图案** - SVG动态网格
3. **浮动光晕** - 模糊圆形装饰
4. **毛玻璃效果** - 半透明卡片

### 6. 系统设置 - 登录页管理模块

功能：
- 主题选择卡片（经典版/科技版）
- 实时预览按钮
- 页面文案配置（标题、副标题）
- 保存配置功能
- 使用说明提示

### 7. 动态切换机制

1. 用户访问 `/login`
2. `Login.tsx` 加载配置（先读本地缓存，再读数据库）
3. 根据 `login_page_theme` 值渲染对应组件
4. 切换主题后刷新页面生效

### 8. 保留的现有元素

✅ 所有提示词文案完全保留
✅ 登录框基础元素（用户名、密码、按钮等）
✅ 功能特性列表（实时进度跟踪、高效团队协作、安全可靠保障）
✅ 表单验证逻辑
✅ 错误提示机制

## 实现文件清单

| 文件 | 说明 |
|------|------|
| `src/pages/Login.tsx` | 登录页入口，动态加载主题 |
| `src/pages/LoginV1/index.tsx` | 经典版登录页（原代码） |
| `src/pages/LoginV2/index.tsx` | 科技版登录页（新实现） |
| `src/pages/system/tabs/LoginThemeConfig.tsx` | 登录页管理配置组件 |
| `src/pages/system/SystemSettings.tsx` | 添加登录页管理Tab |
| `src/index.css` | 添加极光流动和浮动动画 |

## 后续扩展建议

1. **新增主题**：在 `Login.tsx` 中添加新的主题类型和对应组件
2. **自定义背景**：支持上传自定义背景图片
3. **主题预览**：在管理界面增加实时预览功能
4. **多语言支持**：登录页文案支持多语言切换

## 备注

- 主题切换后需要刷新登录页面才能看到效果
- 本地缓存用于快速加载，数据库配置为最终数据源
- 所有表单逻辑完全复用，仅样式不同
