# 任务中心优化需求规格说明书

## 1. 背景 (Context)
> 优化任务中心功能，提升任务管理效率，增加任务创建时间的展示，并实现周视图和月视图的统计功能，同时修复卡片分栏视图无效的问题。

## 2. 用户故事 (User Stories)
- 作为 **任务管理者**，我想要 **在任务列表中看到每个任务的创建时间**，以便 **快速了解任务的新旧程度和创建顺序**。
- 作为 **任务管理者**，我想要 **在任务详情页看到任务的创建时间及其属于当年第几周的周几**，以便 **快速定位任务创建的时间周期**。
- 作为 **任务管理者**，我想要 **通过周视图和月视图查看特定时间段内新建和完成的任务**，以便 **统计和回顾工作进度**。
- 作为 **任务管理者**，我想要 **点击卡片分栏按钮能看到有效的看板视图**，以便 **以更直观的方式管理任务**。

## 3. 验收标准 (Acceptance Criteria - EARS)

### 3.1 任务列表显示创建时间
- **前置条件**: 用户进入任务列表页面
- **触发器**: 页面加载完成
- **响应**: 
  - 任务列表表格中新增"创建时间"列
  - 创建时间格式为"YYYY-MM-DD HH:mm"
  - 该列支持排序（默认按创建时间倒序）
  - 移动端卡片视图也显示创建时间

### 3.2 任务详情页显示创建时间及周信息
- **前置条件**: 用户进入任务详情页
- **触发器**: 任务详情加载完成
- **响应**: 
  - 在任务信息区域显示"创建时间"字段
  - 显示格式为"YYYY年MM月DD日 周X（第N周）"
  - 例如："2024年03月15日 周五（第11周）"

### 3.3 周视图和月视图功能
- **前置条件**: 用户在任务列表页面
- **触发器**: 用户点击"周视图"或"月视图"按钮
- **响应**: 
  - 界面显示对应的筛选视图
  - **周视图**：
    - 显示本周（周一至周日）**新建**的任务（created_at 在本周范围内）
    - 显示本周**完成**的任务（completed_at 在本周范围内）
  - **月视图**：
    - 显示当月**新建**的任务（created_at 在当月范围内）
    - 显示当月**完成**的任务（completed_at 在当月范围内）
  - 视图切换按钮需要有明显的激活状态
  - 再次点击同一按钮可取消筛选，恢复默认视图

### 3.4 卡片分栏视图（看板视图）
- **前置条件**: 用户在任务列表页面，点击看板视图按钮
- **触发器**: 用户点击 LayoutGrid（卡片分栏/看板）图标
- **响应**: 
  - 切换到看板视图模式
  - **默认分栏**：按任务状态分栏，包括：有几个、进行中、待办、已完成
  - **自定义分栏维度**：
    - 提供分栏筛选器，用户可选择按某个维度分栏
    - 支持的分栏维度：状态（默认）、项目、优先级、处理人
    - 用户选择分栏维度后，任务按该维度自动分组
    - 每个分栏显示对应分组的任务数量
  - 卡片显示任务标题、优先级、截止日期、创建时间等信息
  - 看板视图在移动端应该适配为可横向滚动的布局

## 4. 边缘情况与风险 (Edge Cases)
- 当任务没有创建时间（created_at 为空）时，显示为"-"
- 周视图和月视图需要正确处理跨年、跨月的时间边界
- 看板视图在移动端应该适配为可横向滚动的布局
- 需要确保视图切换不影响已有的筛选条件
