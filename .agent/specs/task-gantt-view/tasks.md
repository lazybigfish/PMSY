# 任务甘特图视图 - 实施任务清单

## 任务概览

| 序号 | 任务名称 | 预估工时 | 优先级 | 状态 |
|------|---------|---------|--------|------|
| 1 | 定义甘特图数据类型 | 1h | P0 | ⬜ |
| 2 | 创建 useGantt hook | 2h | P0 | ⬜ |
| 3 | 创建甘特图时间轴组件 | 2h | P0 | ⬜ |
| 4 | 创建甘特图任务条组件 | 2h | P0 | ⬜ |
| 5 | 创建甘特图主组件 | 2h | P0 | ⬜ |
| 6 | 集成到任务中心页面 | 1h | P0 | ⬜ |
| 7 | 添加甘特图视图Tab | 0.5h | P0 | ⬜ |
| 8 | 测试与修复 | 2h | P1 | ⬜ |

---

## 任务详情

### 任务 1: 定义甘特图数据类型

- [ ] **任务描述**: 创建甘特图相关类型定义
- **文件**: `src/types/gantt.ts`
- **内容**:
  ```typescript
  export interface GanttTask { ... }
  export interface GanttConfig { ... }
  export interface GanttColumn { ... }
  ```
- **验收标准**: 类型定义完整，导出正确

---

### 任务 2: 创建 useGantt hook

- [ ] **任务描述**: 创建甘特图逻辑 hook
- **文件**: `src/hooks/useGantt.ts`
- **功能**:
  - 处理任务数据转换为甘特图数据
  - 计算时间范围和视图粒度
  - 生成时间轴列数据
- **验收标准**: Hook 正确计算甘特图所需数据

---

### 任务 3: 创建甘特图时间轴组件

- [ ] **任务描述**: 实现时间轴头部组件
- **文件**: `src/components/task/GanttTimeline.tsx`
- **功能**:
  - 显示日期/周/月标签
  - 周末背景高亮
  - "今天"标记线
- **验收标准**: 时间轴正确显示

---

### 任务 4: 创建甘特图任务条组件

- [ ] **任务描述**: 实现任务条组件
- **文件**: `src/components/task/GanttTaskBar.tsx`
- **功能**:
  - 显示任务时间条
  - 状态颜色区分
  - 悬停显示详情
- **验收标准**: 任务条正确显示

---

### 任务 5: 创建甘特图主组件

- [ ] **任务描述**: 实现甘特图主组件
- **文件**: `src/components/task/TaskGantt.tsx`
- **功能**:
  - 整合所有子组件
  - 处理滚动和交互
  - 响应式布局
- **验收标准**: 甘特图完整渲染

---

### 任务 6: 集成到任务中心页面

- [ ] **任务描述**: 在 TaskList 中集成甘特图
- **文件**: `src/pages/tasks/TaskList.tsx`
- **修改**: 添加甘特图视图选项
- **验收标准**: 可以切换到甘特图视图

---

### 任务 7: 添加甘特图视图Tab

- [ ] **任务描述**: 在视图切换工具栏添加甘特图按钮
- **文件**: `src/pages/tasks/TaskList.tsx`
- **验收标准**: 显示甘特图Tab图标

---

### 任务 8: 测试与修复

- [ ] **任务描述**: 功能测试和 bug 修复
- **验收标准**: 核心流程测试通过

---

## 开始执行

确认后我将从任务1开始逐步实施。
